{"version":3,"sources":["webpack:///./components/terminal/style.css","webpack:///./components/terminal/cmd/style.css","webpack:///./components/terminal/cmd/help.tsx","webpack:///./components/terminal/cmd/error.tsx","webpack:///./components/terminal/cmd/experience.tsx","webpack:///./components/terminal/cmd/skills.tsx","webpack:///./components/terminal/cmd/education.tsx","webpack:///./components/terminal/cmd/activities.tsx","webpack:///./components/terminal/cmd/index.tsx","webpack:///./components/terminal/index.tsx","webpack:///./components/terminal/cmd/useCmd.ts","webpack:///./routes/home/index.tsx"],"names":["CommandHelp","h","class","style","CommandNotFound","command","CommandExperience","className","CommandSkills","CommandEducation","CommandActivities","href","Cmd","props","hidden","Fragment","PROMPT","rawInput","CmdOutput","Terminal","formRef","inputRef","commandProps","handleExecCmd","useCmd","useRef","useEffect","current","scrollIntoView","behavior","results","setResults","useState","historyIndex","setHistoryIndex","focus","inputValueMemo","handleKeyDown","e","_inputRef$current","_inputRef$current2","key","document","activeElement","preventDefault","length","value","prev","next","addEventListener","removeEventListener","input","split","args","slice","map","result","_objectSpread","i","Prompt","ref","id","onSubmit","target","ReactGA","event","type","name","autofocus","autocomplete","Home"],"mappings":"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","file":"route-home.chunk.b6a90.esm.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"terminal\":\"terminal__Ns8FN\",\"welcome\":\"welcome__8TTjf\",\"activeprompt\":\"activeprompt__-RKgw\",\"prompt\":\"prompt__wX4A9\",\"command\":\"command__JBFdT\"};","// extracted by mini-css-extract-plugin\nexport default {\"output\":\"output__Y6snD\",\"error\":\"error__HYsFw\",\"section\":\"section__AQ-WW\",\"title\":\"title__UtO8N\",\"description\":\"description__DD9lX\"};","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandHelp = () => {\n\treturn (\n\t\t<div class={style.output}>\n\t\t\t<div class={style.section}>\n\t\t\t\t<p class={style.title}>Available Commands :</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>help -- List of available commands</li>\n\t\t\t\t\t<li>experience -- List of professional experiences</li>\n\t\t\t\t\t<li>skills -- List of skills</li>\n\t\t\t\t\t<li>education -- List of education</li>\n\t\t\t\t\t<li>activities -- List of activities</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class={style.section}>\n\t\t\t\t<p class={style.title}>Special Commands :</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>clear -- Clear all command histories</li>\n\t\t\t\t\t<li>cd -- Change location(Not Implemented)</li>\n\t\t\t\t\t<li>ls -- List locations and files(Not Implemented)</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandNotFound = ({ command }) => {\n\treturn (\n\t\t<div class={style.error}>\n\t\t\t<p>command not found: {command}</p>\n\t\t</div>\n\t)\n}","import { h } from \"preact\";\nimport style from \"./style.css\";\n\nexport const CommandExperience = () => {\n  return (\n    <div className={style.output}>\n      <strong>Professional Experience :</strong>\n      <div className={style.section}>\n        <p className={style.title}>\n          <strong>1) Software Engineer Backend Techlead</strong>, Mercari, Inc.\n          Tokyo, Japan (2024/10 ~ Now)\n        </p>\n        <p className={style.description}>\n          As a Software Engineer Backend Tech Lead, I was responsible for the\n          system design, feature development, and operation of services in the\n          HR domain, as well as the technical management of a team of three\n          people.\n        </p>\n        <ul>\n          <li>Developing GraphQL API and gRPC.</li>\n          <li>Technical management for a team of 3 people.</li>\n        </ul>\n      </div>\n\n      <div className={style.section}>\n        <p className={style.title}>\n          <strong>2) Software Engineer Backend</strong>, Mercari, Inc. Tokyo,\n          Japan (2023/10 ~ 2024/09)\n        </p>\n        <p className={style.description}>\n          As a Software Engineer Backend, I was responsible for the system\n          design, feature development, and operation of services in the HR\n          domain.\n        </p>\n        <ul>\n          <li>\n            Building a distributed record lock service across multiple services\n            within modular monolith application.\n          </li>\n          <li>Developing GraphQL API and gRPC.</li>\n        </ul>\n      </div>\n\n      <div className={style.section}>\n        <p className={style.title}>\n          <strong>3) Customer Reliability Engineer</strong>, Studyplus, Inc.\n          Tokyo, Japan (2022/05 ~ Now)\n        </p>\n        <p className={style.description}>\n          A first member of the team. Decrease Customer's anxiety and increase\n          Customer's satisfaction by improving the reliability of the service.\n        </p>\n        <ul>\n          <li>\n            Building Data Pipeline and Data Warehouse(~500 tables, 1billion\n            records)\n          </li>\n          <li>\n            Implement a system to detect messages between users that violate the\n            terms of service.(1M messages/month)\n          </li>\n        </ul>\n      </div>\n\n      <div className={style.section}>\n        <p className={style.title}>\n          <strong>4) Team Leader</strong>, Studyplus, Inc. Tokyo, Japan (2020/01\n          ~ Now)\n        </p>\n        <p className={style.description}>\n          As a team leader of 9 people web application group, I have led the\n          team to deliver features in the educational field. Examples of actions\n          I have taken are as follows.\n        </p>\n        <ul>\n          <li>\n            Create a career ladder to clarify the career goals and current\n            status of the members\n          </li>\n          <li>Introduced scrum development and reduced project delays</li>\n        </ul>\n      </div>\n\n      <div className={style.section}>\n        <p className={style.title}>\n          <strong>5) Back-End Engineer</strong>, Studyplus, Inc. Tokyo, Japan\n          (2018/09 ~ 2020/12)\n        </p>\n        <p className={style.description}>\n          As part of B2B SaaS Web Application Team, I have delivered features to\n          improve the learning efficiency of students and teachers.\n        </p>\n        <ul>\n          <li>\n            Migrate monolith Ruby on Rails App into REST API and React SPA\n          </li>\n          <li>Introduce Schema Driven Development process</li>\n          <li>\n            Implement front-end and back-end across ambiguous systems and\n            environment\n          </li>\n        </ul>\n      </div>\n\n      <div className={style.section}>\n        <p className={style.title}>\n          <strong>6) System Engineer</strong>, Technobrain,Inc. Tokyo, Japan\n          (2017/09 ~ 2018/08)\n        </p>\n        <p className={style.description}>\n          As a system engineer of a contract software development team, I have\n          developed web applications for internal business operations.\n        </p>\n      </div>\n    </div>\n  );\n};\n","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandSkills = () => {\n  return (\n    <div class={style.output}>\n      <strong>Skills :</strong>\n      <div class={style.section}>\n        <p class={style.title}>\n          Software Development\n        </p>\n        <ul>\n          <li>Ruby</li>\n          <li>Node.js</li>\n          <li>Go</li>\n          <li>Python</li>\n          <li>Rust</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          Data Engineering\n        </p>\n        <ul>\n          <li>digdag</li>\n          <li>embulk</li>\n          <li>GCP BigQuery</li>\n          <li>GCP Datastream</li>\n          <li>GCP Dataform</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          Web Development\n        </p>\n        <ul>\n          <li>HTML</li>\n          <li>CSS</li>\n          <li>JavaScript/TypeScript</li>\n          <li>React/Next.js</li>\n          <li>Ruby on Rails</li>\n          <li>Sidekiq</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          Misc\n        </p>\n        <ul>\n          <li>Git</li>\n          <li>Scrum Development</li>\n          <li>Schema Driven Development</li>\n          <li>Interviewing</li>\n          <li>Team organization</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          Interests\n        </p>\n        <ul>\n          <li>Engineering excellence</li>\n          <li>Authorization and Authentication</li>\n          <li>Machine Learning</li>\n        </ul>\n      </div>\n    </div>)\n\n}","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandEducation = () => {\n  return (\n    <div class={style.output}>\n      <strong>Education :</strong>\n      <div class={style.section}>\n        <p class={style.title}>\n          Iwate Prefectural University(2013~2017)\n        </p>\n        <p class={style.description}>\n          <strong>Unfinished</strong>\n        </p>\n        <p class={style.description}>\n          Completed 66 Credits towards a Bachelor of Policy Management\n        </p>\n      </div>\n    </div>)\n\n}","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandActivities = () => {\n  return (\n    <div class={style.output}>\n      <strong>Activities :</strong>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>Feb 2023)</strong>\n        </p>\n        <p class={style.description}>\n          Release conventional commit stat tool <a href=\"https://github.com/atomiyama/ccstat\"><b>ccstat</b></a>\n        </p>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>December 2019)</strong>\n        </p>\n        <p class={style.description}>\n          <span>\n            Presentation <b><i>Build Gem in Rust </i></b>\n          </span>\n          <span>\n            at <a href=\"https://heiseirb.connpass.com/event/151414/\">heisei.rb#9</a> \n          </span>\n        </p>\n        <p class={style.description}>\n            <a href=\"https://speakerdeck.com/atomiyama/rustdegemwozuo-rou\">Speaker Deck</a>\n        </p>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>Oct 2019)</strong>\n        </p>\n        <p class={style.description}>\n          <span>\n            Presentation <b><i>FFI & Native Extension </i></b>\n          </span>\n          <span>\n            at <a href=\"https://heiseirb.connpass.com/event/148650/\">heisei.rb#9</a>\n          </span>\n        </p>\n        <p class={style.description}>\n          <a href=\"https://speakerdeck.com/atomiyama/ffi-and-native-extension\">Speaker Deck</a>\n        </p>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>Dec 2018)</strong>\n        </p>\n        <p class={style.description}>\n          Release Cursor based pagination gem <a href=\"https://github.com/studyplus/jinrai\">jinrai</a>\n        </p>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>Jun 2018)</strong>\n        </p>\n        <p class={style.description}>\n          Applied Information Technology Engineer Examination\n        </p>\n      </div>\n    </div>)\n\n}","import { Fragment, h } from 'preact';\nimport style from '../style.css'\nimport { PROMPT } from '../index';\nimport { CommandHelp } from './help';\nimport { CommandNotFound } from './error';\nimport { CommandExperience } from './experience';\nimport { CommandSkills } from './skills';\nimport { CommandEducation } from './education';\nimport { CommandActivities } from './activities';\n\nexport type CmdProps = {\n  rawInput: string;\n  command: string;\n  args: string[];\n  hidden?: boolean;\n}\nexport const Cmd = (props: CmdProps) => {\n  if (props.hidden) return null\n\n  return (\n\t\t<Fragment>\n\t\t\t<p>\n\t\t\t\t<span class={style.prompt}>{PROMPT}</span>\n\t\t\t\t<span class={style.command}>{props.rawInput}</span>\n\t\t\t</p>\n\t\t\t<CmdOutput {...props} />\n\t\t</Fragment>\n  )\n}\n\nconst CmdOutput = ({ command }: CmdProps) => {\n  switch (command) {\n    case 'help': {\n      return <CommandHelp />\n    }\n    case 'experience': {\n      return <CommandExperience />\n    }\n    case 'skills': {\n      return <CommandSkills />\n    }\n    case 'education': {\n      return <CommandEducation />\n    }\n    case 'activities': {\n      return <CommandActivities />\n    }\n    case '': {\n      return null\n    }\n    default: {\n      return <CommandNotFound command={command} />\n    }\n  }\n}","import { h, Fragment } from 'preact';\nimport style from \"./style.css\";\nimport { useCmd } from './cmd/useCmd';\nimport { Cmd } from './cmd';\nimport ReactGA from 'react-ga4';\n\nexport const PROMPT = \"guest@atomiyama.dev:~$\"\n\nexport const Terminal = () => {\n\tconst {\n\t\tformRef,\n\t\tinputRef,\n\t\tcommandProps,\n\t\thandleExecCmd,\n\t} = useCmd()\n\n  return (\n    <div class={style.terminal}>\n      <div class={style.welcome}>\n        <p>Hello, there!</p>\n        <p>Type \"help\" to see the list of available commands.</p>\n      </div>\n      {commandProps.map((props, i) => (\n        <Fragment key={`history_${i}`}><Cmd {...props} /></Fragment>\n      ))}\n      <Prompt handleExecCmd={handleExecCmd} formRef={formRef} inputRef={inputRef} />\n    </div>\n  )\n}\n\nconst Prompt = ({ handleExecCmd, formRef, inputRef }) => {\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tconst input = e.target.command.value;\n\t\thandleExecCmd(input);\n\t\tReactGA.event(\"submit_form\", { input })\n\t\t// reset input field\n\t\te.target.command.value = '';\n\t}\n\n\treturn (\n\t\t<form ref={formRef} id=\"activeprompt\" class={style.activeprompt} onSubmit={handleSubmit}>\n\t\t\t<span class={style.prompt}>{PROMPT}</span>\n\t\t\t<input ref={inputRef} type=\"text\" name=\"command\" class={style.command} autofocus autocomplete=\"off\" />\n\t\t</form>\n\t)\n}\n","import { useEffect, useRef, useState } from \"preact/hooks\";\nimport { CmdProps } from \".\";\n\ntype UseCmd = {\n  formRef: React.RefObject<HTMLFormElement>;\n  inputRef: React.RefObject<HTMLInputElement>;\n  handleExecCmd: (input: string) => void;\n  commandProps: CmdProps[];\n};\n\nexport const useCmd = (): UseCmd => {\n  // To scroll to bottom of terminal when new command is entered\n  const formRef = useRef<HTMLFormElement>(null);\n  useEffect(() => formRef.current.scrollIntoView({ behavior: \"smooth\" }));\n\n  // To restore history when user presses up/down arrow keys\n  const [results, setResults] = useState<CmdProps[]>([]);\n  const [historyIndex, setHistoryIndex] = useState<number>(0);\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  useEffect(() => inputRef.current.focus(), []);\n  const inputValueMemo = useRef<string>(\"\");\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // formにフォーカスがない状態でEnterが押されたらformのinputにフォーカスする\n      if (e.key === \"Enter\" && document.activeElement !== inputRef.current) {\n        e.preventDefault();\n        inputRef.current?.focus();\n      }\n\n      // historyIndexが最大値のときその時点でのinputの値をinputValueMemoに保存する\n      if (historyIndex === results.length) {\n        inputValueMemo.current = inputRef.current?.value || \"\";\n      }\n      // 上下矢印キーで履歴を遡れるようにする\n      if (e.key === \"ArrowUp\") {\n        e.preventDefault();\n        const prev = results[historyIndex - 1];\n        if (prev && inputRef.current) {\n          inputRef.current.value = prev.rawInput;\n          setHistoryIndex((current) => current - 1);\n        }\n      }\n      // 下矢印キーで履歴を進められるようにする\n      // ただし、最新の履歴まで進んだ場合は、もとの入力を復元する\n      if (e.key === \"ArrowDown\") {\n        e.preventDefault();\n        const next = results[historyIndex + 1];\n        if (next && inputRef.current) {\n          inputRef.current.value = next.rawInput;\n          setHistoryIndex((current) => current + 1);\n        } else {\n          inputRef.current.value = inputValueMemo.current;\n          setHistoryIndex(results.length);\n        }\n      }\n    };\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\n  }, [results, historyIndex]);\n\n  const handleExecCmd = (input: string) => {\n    const command = input.split(\" \")[0];\n    const args = input.split(\" \").slice(1);\n    if (command === \"clear\") {\n      return setResults((results) =>\n        results.map((result) => ({ ...result, hidden: true }))\n      );\n    }\n\n    const result = {\n      rawInput: input,\n      command,\n      args,\n    };\n    setResults((results) => [...results, result]);\n    setHistoryIndex((current) => current + 1);\n  };\n\n  return {\n    formRef,\n    inputRef,\n    handleExecCmd,\n    commandProps: results,\n  };\n};\n","import { h } from 'preact';\nimport { Terminal } from '../../components/terminal';\n\nconst Home = () => {\n\treturn (\n\t\t<Terminal />\n\t);\n};\n\nexport default Home;"],"sourceRoot":""}