{"version":3,"sources":["webpack:///./components/terminal/style.css","webpack:///./components/terminal/cmd/style.css","webpack:///./components/terminal/cmd/help.tsx","webpack:///./components/terminal/cmd/error.tsx","webpack:///./components/terminal/cmd/experience.tsx","webpack:///./components/terminal/cmd/skills.tsx","webpack:///./components/terminal/cmd/education.tsx","webpack:///./components/terminal/cmd/activities.tsx","webpack:///./components/terminal/cmd/index.tsx","webpack:///./components/terminal/index.tsx","webpack:///./components/terminal/cmd/useCmd.ts","webpack:///./routes/home/index.tsx"],"names":["CommandHelp","h","class","style","CommandNotFound","_ref","command","CommandExperience","CommandSkills","CommandEducation","CommandActivities","href","Cmd","props","hidden","Fragment","PROMPT","rawInput","CmdOutput","Terminal","_useCmd","formRef","useRef","useEffect","current","scrollIntoView","behavior","_useState2","_slicedToArray","useState","results","setResults","_useState4","historyIndex","setHistoryIndex","inputRef","focus","inputValueMemo","handleKeyDown","e","_inputRef$current","_inputRef$current2","key","document","activeElement","preventDefault","length","value","prev","next","addEventListener","removeEventListener","handleExecCmd","input","console","log","split","args","slice","map","result","_objectSpread","concat","_toConsumableArray","commandProps","useCmd","i","Prompt","ref","id","onSubmit","target","type","name","autofocus","autocomplete","Home"],"mappings":"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","file":"route-home.chunk.c2c54.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"terminal\":\"terminal__Ns8FN\",\"welcome\":\"welcome__8TTjf\",\"activeprompt\":\"activeprompt__-RKgw\",\"prompt\":\"prompt__wX4A9\",\"command\":\"command__JBFdT\"};","// extracted by mini-css-extract-plugin\nexport default {\"output\":\"output__Y6snD\",\"error\":\"error__HYsFw\",\"section\":\"section__AQ-WW\",\"title\":\"title__UtO8N\",\"description\":\"description__DD9lX\"};","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandHelp = () => {\n\treturn (\n\t\t<div class={style.output}>\n\t\t\t<div class={style.section}>\n\t\t\t\t<p class={style.title}>Available Commands :</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>help -- List of available commands</li>\n\t\t\t\t\t<li>experience -- List of professional experiences</li>\n\t\t\t\t\t<li>skills -- List of skills</li>\n\t\t\t\t\t<li>education -- List of education</li>\n\t\t\t\t\t<li>activities -- List of activities</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class={style.section}>\n\t\t\t\t<p class={style.title}>Special Commands :</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>clear -- Clear all command histories</li>\n\t\t\t\t\t<li>cd -- Change location(Not Implemented)</li>\n\t\t\t\t\t<li>ls -- List locations and files(Not Implemented)</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandNotFound = ({ command }) => {\n\treturn (\n\t\t<div class={style.error}>\n\t\t\t<p>command not found: {command}</p>\n\t\t</div>\n\t)\n}","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandExperience = () => {\n  return (\n    <div class={style.output}>\n      <strong>Professional Experience :</strong>\n      <div class={style.section}>\n        <p class={style.title}>\n        <strong>1) Customer Reliability Engineer</strong>, Studyplus,Inc. Tokyo,Japan (2022/05 ~ Now)\n        </p>\n        <p class={style.description}>\n          A first member of the team. Decrease Customer's anxiety and increase Customer's satisfaction by improving the reliability of the service.\n        </p>\n        <ul>\n          <li>Building Data Pipeline and Data Warehouse(~500 tables, 1billion records)</li>\n          <li>Implement system to detect messages between users that violate the terms of service.(1M messages/month)</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>2) Team Leader</strong>, Studyplus,Inc. Tokyo,Japan (2020/01 ~ Now)\n        </p>\n        <p class={style.description}>\n          As a team leader of 9 people web application group, I have lead the team to deliver features in educational field. Examples of actions I have taken are as follows.\n        </p>\n        <ul>\n          <li>Create a career ladder to clarify the career goals and current status of the members</li>\n          <li>Introduced scrum development and reduced project delays</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>3) Back-End Engineer</strong>, Studyplus,Inc. Tokyo,Japan (2018/09 ~ 2020/12)\n        </p>\n        <p class={style.description}>\n          As part of B2B SaaS Web Application Team, I have delivered features to improve the learning efficiency of students and teachers.\n        </p>\n        <ul>\n          <li>Migrate monolith Ruby on Rails App into REST API and React SPA</li>\n          <li>Introduce Schema Driven Development process</li>\n          <li>Implement front-end and back-end across ambiguous systems and environment</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>4) System Engineer</strong>, Technobrain ,Inc. Tokyo,Japan (2017/09 ~ 2018/08)\n        </p>\n        <p class={style.description}>\n          As a system engineer of contract software development team, I have developed a internal use buisiness operation web application.\n        </p>\n      </div>\n    </div>)\n\n}","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandSkills = () => {\n  return (\n    <div class={style.output}>\n      <strong>Skills :</strong>\n      <div class={style.section}>\n        <p class={style.title}>\n          Software Development\n        </p>\n        <ul>\n          <li>Ruby</li>\n          <li>Node.js</li>\n          <li>Go</li>\n          <li>Python</li>\n          <li>Rust</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          Data Engineering\n        </p>\n        <ul>\n          <li>digdag</li>\n          <li>embulk</li>\n          <li>GCP BigQuery</li>\n          <li>GCP Datastream</li>\n          <li>GCP Dataform</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          Web Development\n        </p>\n        <ul>\n          <li>HTML</li>\n          <li>CSS</li>\n          <li>JavaScript/TypeScript</li>\n          <li>React/Next.js</li>\n          <li>Ruby on Rails</li>\n          <li>Sidekiq</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          Misc\n        </p>\n        <ul>\n          <li>Git</li>\n          <li>Scrum Development</li>\n          <li>Schema Driven Development</li>\n          <li>Interviewing</li>\n          <li>Team organization</li>\n        </ul>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          Interests\n        </p>\n        <ul>\n          <li>Engineering excellence</li>\n          <li>Authorization and Authentication</li>\n          <li>Machine Learning</li>\n        </ul>\n      </div>\n    </div>)\n\n}","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandEducation = () => {\n  return (\n    <div class={style.output}>\n      <strong>Education :</strong>\n      <div class={style.section}>\n        <p class={style.title}>\n          Iwate Prefectural University(2013~2017)\n        </p>\n        <p class={style.description}>\n          <strong>Unfinished</strong>\n        </p>\n        <p class={style.description}>\n          Completed 66 Credits towards a Bachelor of Policy Management\n        </p>\n      </div>\n    </div>)\n\n}","import { h } from 'preact';\nimport style from './style.css'\n\nexport const CommandActivities = () => {\n  return (\n    <div class={style.output}>\n      <strong>Activities :</strong>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>Feb 2023)</strong>\n        </p>\n        <p class={style.description}>\n          Release conventional commit stat tool <a href=\"https://github.com/atomiyama/ccstat\"><b>ccstat</b></a>\n        </p>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>December 2019)</strong>\n        </p>\n        <p class={style.description}>\n          <span>\n            Presentation <b><i>Build Gem in Rust </i></b>\n          </span>\n          <span>\n            at <a href=\"https://heiseirb.connpass.com/event/151414/\">heisei.rb#9</a> \n          </span>\n        </p>\n        <p class={style.description}>\n            <a href=\"https://speakerdeck.com/atomiyama/rustdegemwozuo-rou\">Speaker Deck</a>\n        </p>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>Oct 2019)</strong>\n        </p>\n        <p class={style.description}>\n          <span>\n            Presentation <b><i>FFI & Native Extension </i></b>\n          </span>\n          <span>\n            at <a href=\"https://heiseirb.connpass.com/event/148650/\">heisei.rb#9</a>\n          </span>\n        </p>\n        <p class={style.description}>\n          <a href=\"https://speakerdeck.com/atomiyama/ffi-and-native-extension\">Speaker Deck</a>\n        </p>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>Dec 2018)</strong>\n        </p>\n        <p class={style.description}>\n          Release Cursor based pagination gem <a href=\"https://github.com/studyplus/jinrai\">jinrai</a>\n        </p>\n      </div>\n      <div class={style.section}>\n        <p class={style.title}>\n          <strong>Jun 2018)</strong>\n        </p>\n        <p class={style.description}>\n          Applied Information Technology Engineer Examination\n        </p>\n      </div>\n    </div>)\n\n}","import { Fragment, h } from 'preact';\nimport style from '../style.css'\nimport { PROMPT } from '../index';\nimport { CommandHelp } from './help';\nimport { CommandNotFound } from './error';\nimport { CommandExperience } from './experience';\nimport { CommandSkills } from './skills';\nimport { CommandEducation } from './education';\nimport { CommandActivities } from './activities';\n\nexport type CmdProps = {\n  rawInput: string;\n  command: string;\n  args: string[];\n  hidden?: boolean;\n}\nexport const Cmd = (props: CmdProps) => {\n  if (props.hidden) return null\n\n  return (\n\t\t<Fragment>\n\t\t\t<p>\n\t\t\t\t<span class={style.prompt}>{PROMPT}</span>\n\t\t\t\t<span class={style.command}>{props.rawInput}</span>\n\t\t\t</p>\n\t\t\t<CmdOutput {...props} />\n\t\t</Fragment>\n  )\n}\n\nconst CmdOutput = ({ command }: CmdProps) => {\n  switch (command) {\n    case 'help': {\n      return <CommandHelp />\n    }\n    case 'experience': {\n      return <CommandExperience />\n    }\n    case 'skills': {\n      return <CommandSkills />\n    }\n    case 'education': {\n      return <CommandEducation />\n    }\n    case 'activities': {\n      return <CommandActivities />\n    }\n    case '': {\n      return null\n    }\n    default: {\n      return <CommandNotFound command={command} />\n    }\n  }\n}","import { h, Fragment } from 'preact';\nimport style from \"./style.css\";\nimport { useCmd } from './cmd/useCmd';\nimport { Cmd } from './cmd';\n\nexport const PROMPT = \"guest@atomiyama.dev:~$\"\n\nexport const Terminal = () => {\n\tconst {\n\t\tformRef,\n\t\tinputRef,\n\t\tcommandProps,\n\t\thandleExecCmd,\n\t} = useCmd()\n\n  return (\n    <div class={style.terminal}>\n      <div class={style.welcome}>\n        <p>Hello, there!</p>\n        <p>Type \"help\" to see the list of available commands.</p>\n      </div>\n      {commandProps.map((props, i) => (\n        <Fragment key={`history_${i}`}><Cmd {...props} /></Fragment>\n      ))}\n      <Prompt handleExecCmd={handleExecCmd} formRef={formRef} inputRef={inputRef} />\n    </div>\n  )\n}\n\nconst Prompt = ({ handleExecCmd, formRef, inputRef }) => {\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\t\tconst input = e.target.command.value;\n\t\thandleExecCmd(input);\n\t\t// reset input field\n\t\te.target.command.value = '';\n\t}\n\n\treturn (\n\t\t<form ref={formRef} id=\"activeprompt\" class={style.activeprompt} onSubmit={handleSubmit}>\n\t\t\t<span class={style.prompt}>{PROMPT}</span>\n\t\t\t<input ref={inputRef} type=\"text\" name=\"command\" class={style.command} autofocus autocomplete=\"off\" />\n\t\t</form>\n\t)\n}\n","import { useEffect, useRef, useState } from \"preact/hooks\";\nimport { CmdProps } from \".\";\n\ntype UseCmd = {\n  formRef: React.RefObject<HTMLFormElement>;\n  inputRef: React.RefObject<HTMLInputElement>;\n  handleExecCmd: (input: string) => void;\n  commandProps: CmdProps[];\n}\n\nexport const useCmd = (): UseCmd => {\n  // To scroll to bottom of terminal when new command is entered\n  const formRef = useRef<HTMLFormElement>(null);\n  useEffect(() => formRef.current.scrollIntoView({ behavior: \"smooth\" }));\n\n  // To restore history when user presses up/down arrow keys\n  const [results, setResults] = useState<CmdProps[]>([]);\n  const [historyIndex, setHistoryIndex] = useState<number>(0);\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  useEffect(() => inputRef.current.focus(), []);\n  const inputValueMemo = useRef<string>('');\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // formにフォーカスがない状態でEnterが押されたらformのinputにフォーカスする\n      if (e.key === 'Enter' && document.activeElement !== inputRef.current) {\n        e.preventDefault();\n        inputRef.current?.focus();\n      }\n\n      // historyIndexが最大値のときその時点でのinputの値をinputValueMemoに保存する\n      if (historyIndex === results.length) {\n        inputValueMemo.current = inputRef.current?.value || '';\n      }\n      // 上下矢印キーで履歴を遡れるようにする\n      if (e.key === 'ArrowUp') {\n        e.preventDefault();\n        const prev = results[historyIndex  - 1];\n        if (prev && inputRef.current) {\n          inputRef.current.value = prev.rawInput;\n          setHistoryIndex(current => current - 1);\n        }\n      }\n      // 下矢印キーで履歴を進められるようにする\n      // ただし、最新の履歴まで進んだ場合は、もとの入力を復元する\n      if (e.key === 'ArrowDown') {\n        e.preventDefault();\n        const next = results[historyIndex + 1];\n        if (next && inputRef.current) {\n          inputRef.current.value = next.rawInput;\n          setHistoryIndex(current => current + 1);\n        } else {\n          inputRef.current.value = inputValueMemo.current;\n          setHistoryIndex(results.length);\n        }\n      }\n    }\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [results, historyIndex])\n\n  const handleExecCmd = (input: string) => {\n    console.log(input)\n    const command = input.split(' ')[0];\n    const args = input.split(' ').slice(1);\n    if (command === 'clear') {\n      return setResults(results => results.map(result => ({...result, hidden: true })))\n    }\n\n    const result = {\n      rawInput: input,\n      command,\n      args,\n    }\n    setResults(results=> [...results, result])\n    setHistoryIndex(current => current + 1);\n  }\n\n  return {\n    formRef,\n    inputRef,\n    handleExecCmd,\n    commandProps: results,\n  }\n}","import { h } from 'preact';\nimport { Terminal } from '../../components/terminal';\n\nconst Home = () => {\n\treturn (\n\t\t<Terminal />\n\t);\n};\n\nexport default Home;"],"sourceRoot":""}